---
layout: post
title: "Spring_05_Spring Boot"
date: 2024-10-18
categories: blog
category: Spring
---

<br>

---
# SpringBoot


<pre><code>
ìŠ¤í”„ë§ í”„ë ˆì„ì›Œí¬ì˜ ê¸°ëŠ¥ì„ ì‰½ê²Œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ í™•ì¥í•œ ê°œë….
Web Application Server (WAS)ë¥¼ ì„¤ì¹˜í•  í•„ìš”ê°€ ì—†ë‹¤.
ë‚´ì¥ ì„œë²„ : Tomcat, Jetty, Undertow

ê¸°ë³¸ì ìœ¼ë¡œ jspë¥¼ ì½ì§€ ì•Šê¸° ë•Œë¬¸ì— ë³„ë„ì˜ dependency ì„¤ì •ì„ ì¶”ê°€í•´ì•¼ í•œë‹¤.

SpringFramework ì˜ MVC ë™ì‘ ë°©ì‹
- DispatcherServlet 
    = â€œFront Controllerâ€
    : í´ë¼ì´ì–¸íŠ¸ì˜ ëª¨ë“  ìš”ì²­ì„ ì „ë‹¬ë°›ëŠ”ë‹¤. 
- HandlerMapping 
    : ìš”ì²­ì— ë§ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ ê²€ìƒ‰ 
    â†’ â€œreturn Controllerâ€
- Controller 
    : Modelì— Business Logic ìš”ì²­ 
    â†’ "return ModelAndView" : ëª¨ë¸ì—ì„œ ì²˜ë¦¬í•œ ê²°ê³¼ì™€ ë·°ë¦¬ì¡¸ë²„ì—ì„œ ì²˜ë¦¬í•  ì •ë³´ë¥¼ ë‹´ì•„ì„œ ë°˜í™˜
- ViewResolver 
    = â€œapplication.propertiesâ€
    : ì»¨íŠ¸ë¡¤ëŸ¬ë¡œë¶€í„° "View ê°ì²´"ë¥¼ ë°›ì•„ì„œ í´ë” ê²½ë¡œ ë° í™•ì¥ìë¥¼ ì‘ì„±í•œ í›„ ë°˜í™˜
    â†’ "return Viewâ€
</code></pre>

<br>


1. [legacy] View ê°ì²´ë¥¼ jspë¡œ ì„¤ì •í•œ ê²½ìš°

Client(index.html) â†’ Controller â†’ View(list.jsp)



- springweb01_jsp
Client(index.html) â†’ Controller â†’ View(list.jsp)
    - Client (index.html)
        
        ```html
        <!DOCTYPE html>
        <html>
        <head>
        <meta charset="UTF-8">
        <title>Insert title here</title>
        </head>
        <!-- TODO 1018 SpringBoot _ jsp íŒŒì¼ ì„¤ì • -->
        <body>
        	<h2>ìŠ¤í”„ë§ ë¶€íŠ¸ ì²« ìˆ˜ì—…</h2>
        	<h2>Spring Boot</h2>
        	<hr>
        	<!-- uri : ë…¼ë¦¬ì ì¸ ìš”ì²­ : O | íŒŒì¼ëª… : X -->
        	&lt;!-- uri : ë…¼ë¦¬ì ì¸ ìš”ì²­ : O | íŒŒì¼ëª… : X --&gt;
        	<br>
        	<a href="test1">ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ìš”ì²­ 1</a>
        	<br>
        	<a href="test2">ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ìš”ì²­ 2</a>
        	<br>
        	<a href="test3">ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ìš”ì²­ 3</a>
        	<br>
        	<a href="test4">ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ìš”ì²­ 4</a>
        	<br>
        	<hr>
        
        	<form action="test5" method="post">
        		<input type="submit" value="ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ìš”ì²­ 5">
        	</form>
        
        	<a href="javascript:func();">ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ìš”ì²­ 5_2</a> : &lt;a&gt;ë¡œ POST ìš”ì²­
        	<form name="f"></form>
        
        	<form action="test6" method="post">
        		<input type="submit" value="ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ìš”ì²­ 6">
        	</form>
        
        	<form action="test7" method="post">
        		<input type="submit" value="ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ìš”ì²­ 7">
        	</form>
        
        	<a href="test8">ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ìš”ì²­ 8</a>
        	<br>
        	<a href="test8_1">ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ìš”ì²­ 8_1</a> : DataVoë¡œ ë°ì´í„° ì „ë‹¬ (Jackson Library)
        	<br>
        	<a href="test8_2">ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ìš”ì²­ 8_2</a>
        	<br>
        
        	<br>
        	<hr>
        	<br>
        	ë‘ ë²ˆì§¸ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì‘ì—…í•˜ê¸°
        	<hr>
        	
        	<form action="test9" method="get">
        		<input type="submit" value="ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ìš”ì²­ 9 - GET">
        	</form>	
        	<!-- URLì€ ë™ì¼í•˜ê³  ìš”ì²­ë°©ì‹ë§Œ ë‹¤ë¥¸ ê²½ìš° -->
        	<form action="test9" method="post">
        		<input type="submit" value="ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ìš”ì²­ 9 - POST">
        	</form>
        	
        	
        	<br>
        	<hr>
        	<br>
        	ì„¸ ë²ˆì§¸ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì‘ì—…í•˜ê¸°
        	<hr>
        	<a href="java/korea">ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ìš”ì²­ 10 - ìš”ì²­ ë°ì´í„° : korea</a> <br>
        	<a href="java/good">ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ìš”ì²­ 10 - ìš”ì²­ ë°ì´í„° : good</a> <br>
        	<a href="java/nice">ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ìš”ì²­ 10 - ìš”ì²­ ë°ì´í„° : nice</a> <br>
        	<a href="java/ok">ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ìš”ì²­ 10 - ìš”ì²­ ë°ì´í„° : ok</a> <br>
        
        </body>
        <script>
        	function func() {
        		f.action = "test5";
        		f.method = "post"; //POSTë°©ì‹
        		f.submit();
        	}
        </script>
        </html>
        
        ```
        
    - Controller (@Controller)
    VO
        - cf) JSON ìœ¼ë¡œ ì¶œë ¥
        @ResponseBody
            
            ![ ](/assets/image/2024-10-18-ResponseBody_JSON_00.png)
            
            ![ ](/assets/image/2024-10-18-ResponseBody_JSON_01.png)
            
            ![ ](/assets/image/2024-10-18-ResponseBody_JSON_02.png)
            
        
        ```java
        package pack;
        
        import org.springframework.stereotype.Controller;
        import org.springframework.ui.Model;
        import org.springframework.web.bind.annotation.GetMapping;
        import org.springframework.web.bind.annotation.PostMapping;
        import org.springframework.web.bind.annotation.RequestBody;
        import org.springframework.web.bind.annotation.RequestMapping;
        import org.springframework.web.bind.annotation.RequestMethod;
        import org.springframework.web.bind.annotation.RequestParam;
        import org.springframework.web.bind.annotation.ResponseBody;
        import org.springframework.web.servlet.ModelAndView;
        
        /**
         * @Controller
         * DispatcherServlet -> Handler Mapperë¥¼ ê±°ì³ì„œ ìš”ì²­ì„ ë°›ëŠ”ë‹¤
         * ì¸ìŠ¤í„´ìŠ¤ ìƒì„±, í´ë¼ì´ì–¸íŠ¸ì™€ ë°ì´í„° ì…ì¶œë ¥ì„ ì œì–´í•˜ëŠ” í´ë˜ìŠ¤ì— ì ìš©
         * í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì„ ì²˜ë¦¬í•œ í›„ ì§€ì •ëœ viewì— ëª¨ë¸ ê°ì²´ë¥¼ ì „ë‹¬í•˜ëŠ” ì—­í• 
         */
        //@Controller
        
        /**
         *  @ResponseBody 
         *  ì¼ë°˜ ë¬¸ìì—´, Map, JSON ë“±ì˜ Java ê°ì²´ë¥¼ http ì‘ë‹µ ë³¸ë¬¸ ê°ì²´ë¡œ ë³€í™˜í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ë¡œ ì „ì†¡
         */
        //@ResponseBody 
        
        /**
         *  @RestController 
         *  @Controller + @ResponseBody
         */
        /*
        @RestController 
        public class TestController {
        	@RequestMapping("test1")
        	public String abc() {
        		System.out.println("abc()ì²˜ë¦¬");
        		return "ê¸ˆìš”ì¼ì´ë‹¤~";
        	} //  JSONìœ¼ë¡œ ë°˜í™˜í•  ìˆ˜ë„ ìˆë‹¤.
        }
        */
        
        @Controller
        public class TestController {
            // @RequestMapping _ í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­(urlPatterns ê°’)ì„ ì²˜ë¦¬ : GET, POST ëª¨ë‘ ì²˜ë¦¬
        	@RequestMapping("test1")  // forward ë°©ì‹ì˜ ì „ì†¡ì„ í•˜ê¸° ë•Œë¬¸ì— URLì— test1ì´ ë…¸ì¶œëœë‹¤.
            public ModelAndView abc() {
        		System.out.println("abc() ì²˜ë¦¬");
        		
        		// Modelì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™”ë‹¤ëŠ” ê°€ì •
        		String result = "ëª¨ë¸ ë°˜í™˜ ì •ë³´";
                // return null;
        		
        		// ëª¨ë¸ ë°˜í™˜ ì •ë³´ë¥¼ ë·°(jsp)ë¡œ ì „ë‹¬
                /* 
        		ModelAndView modelAndView = new ModelAndView();
        		modelAndView.setViewName("list"); // "/WEB-INF/views/list.jsp"
        		// WEB-INF í´ë”ëŠ” forwardingìœ¼ë¡œë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.
        		// ModelAndView .addObject() : ì„œë¸”ë¦¿ì˜ request.setAttribue("msg", result); ì™€ ë™ì¼í•˜ë‹¤. 
        		modelAndView.addObject("msg", result); 
        		return modelAndView; // forward
                */
        
                /* ViewName, AttributeKey, AttributeValue ë¥¼ ìƒì„±ìë¡œ ì „ë‹¬. (ìƒì„±ì ì˜¤ë²„ë¡œë”©) */
                return new ModelAndView("list", "msg", result);
            }
        
            @RequestMapping(value="test2", method=RequestMethod.GET)
            public ModelAndView abc2() {
                return new ModelAndView("list", "msg", "ìš”ì²­ ì²˜ë¦¬ ì„±ê³µ 2");
            }
            // ìœ„ì™€ ë™ì¼ _ ë°©ì‹ì„ ì„¤ì •í•´ì„œ Mappingí•˜ëŠ” ê²½ìš°
            @GetMapping("test3")
            public ModelAndView abc3() {
                return new ModelAndView("list", "msg", "ìš”ì²­ ì²˜ë¦¬ ì„±ê³µ 3");
            }
        
            // org.springframework.ui.Model ê°ì²´ë¥¼ í™œìš©í•´ì„œ Attributeë¡œ Key, Valueë¥¼ ì¶”ê°€
            // *** ë°˜í™˜ê°’ : ViewName ***
            @GetMapping("test4")
            public String abc4(Model model) {
                model.addAttribute("msg", "ìš”ì²­ ì²˜ë¦¬ ì„±ê³µ4");
                return "list";
            }
        
            @RequestMapping(value = "test5", method=RequestMethod.POST)
            public String abc5(Model model) {
                model.addAttribute("msg", String.valueOf(model.getClass()) + "ìš”ì²­ ì²˜ë¦¬ ì„±ê³µ5");
                return "list";
            }
        
            @PostMapping(value = "test6")
            public ModelAndView abc6() {
            	return new ModelAndView("list", "msg", "ìš”ì²­ ì²˜ë¦¬ ì„±ê³µ 6");
            }
            
            @PostMapping("test7")
            public String abc7(Model model) {
            	model.addAttribute("msg", "POST ìš”ì²­ ì²˜ë¦¬ ì„±ê³µ 7");
            	return "list";
            }
            
            @GetMapping({"test8", "test8_2"}) // ë°°ì—´ë¡œ ë°›ì„ ìˆ˜ ìˆë‹¤.
            @ResponseBody // ì¼ë°˜ ë¬¸ìì—´, Map, JSON ë“±ì˜ Java ê°ì²´ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.  
            public String abc8() {
                String value = "ì¼ë°˜ ë¬¸ìì—´, Map, JSON ë“±ì˜ Java ê°ì²´ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.";
                return value;
            }
            
            @GetMapping("test8_1")
            @ResponseBody // ì¼ë°˜ ë¬¸ìì—´, Map, JSON ë“±ì˜ Java ê°ì²´ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤. 
            public DataVo abc8_1() {
                DataVo dataVo = new DataVo();
                dataVo.setCode(10);
                dataVo.setName("ê°€ì„ë¹„");
                return dataVo; // JSON íƒ€ì…ìœ¼ë¡œ ì¶œë ¥ëœë‹¤. "pretty print ì„ íƒ ê°€ëŠ¥"
            }
            
            
        }
        
        ```
        
        ```java
        package pack;
        
        import org.springframework.stereotype.Controller;
        import org.springframework.ui.Model;
        import org.springframework.web.bind.annotation.RequestMapping;
        import org.springframework.web.bind.annotation.RequestMethod;
        
        @Controller
        @RequestMapping("test9")	// ì»¨íŠ¸ë¡¤ëŸ¬ ë‹¨ìœ„ë¡œ urlPatternì„ ì„¤ì •í•˜ì—¬ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ê²½ìš°
        public class TestController2 {
        	// ìš”ì²­ ì²˜ë¦¬ë°©ì‹ë§Œ ë©”ì„œë“œë¡œ ë¶„ë¦¬
        	
        	@RequestMapping(method=RequestMethod.GET)
        	public String def1(Model model) {
        		model.addAttribute("msg", "ìš”ì²­ ì²˜ë¦¬ ì„±ê³µ 9 - GET");
        		return "list";
        	}
        	
        	@RequestMapping(method=RequestMethod.POST)
        	public String def2(Model model) {
        		model.addAttribute("msg", "ìš”ì²­ ì²˜ë¦¬ ì„±ê³µ 9 - POST");
        		return "list";
        	}
        }
        
        ```
        
        ```java
        package pack;
        
        import org.springframework.stereotype.Controller;
        import org.springframework.ui.Model;
        import org.springframework.web.bind.annotation.GetMapping;
        import org.springframework.web.bind.annotation.RequestMapping;
        
        @Controller
        public class TestController3 {
        
            @RequestMapping("/java/korea")
            public String ghi1(Model model) {
                model.addAttribute("msg", "ìš”ì²­ ì²˜ë¦¬ ì„±ê³µ 10 - java/korea");
                return "list";
            }
        
            // ì—¬ëŸ¬ ê°œì˜ ìš”ì²­ì„ ì²˜ë¦¬í•  ë•Œì—ëŠ” ë°°ì—´ë¡œ ë°›ëŠ”ë‹¤
            @GetMapping(value = {"java/good","java/nice", "java/ok"}) 
            public String ghi2(Model model) {
                model.addAttribute("msg", "ìš”ì²­ ì²˜ë¦¬ ì„±ê³µ 10 - java/good nice ok");
                return "list";
            }
            
        }
        
        ```
        
        ```java
        package pack;
        
        public class DataVo {
        	// (cf) POJO : Plain Old Java Object : ìˆœìˆ˜í•œ ë°ì´í„°ë¡œë§Œ ì´ë£¨ì–´ì§„ ìë°” ê°ì²´ 
        	private String name;
        	private int code;
        	public String getName() {
        		return name;
        	}
        	public void setName(String name) {
        		this.name = name;
        	}
        	public int getCode() {
        		return code;
        	}
        	public void setCode(int code) {
        		this.code = code;
        	}
        	
        }
        
        ```
        
    - Application (@SpringBootApplication)
        
        ```java
        package pack;
        
        import org.springframework.beans.factory.annotation.Autowired;
        import org.springframework.boot.SpringApplication;
        import org.springframework.boot.autoconfigure.SpringBootApplication;
        
        import pack.abc.MyClass;
        
        @SpringBootApplication
        public class Springweb01JspApplication {
        
        	public static void main(String[] args) {
        		SpringApplication.run(Springweb01JspApplication.class, args);
        
        		// ìœ„ì™€ ë™ì¼
        		// ë°©ë²• 1
        		/* SpringApplication application = new SpringApplication(Springweb01JspApplication.class);
        		application.setWebApplicationType(WebApplicationType.NONE);
        		application.run(args).getBean(Springweb01JspApplication.class).execute(); */
        
        		// ë°©ë²• 2
        		/* SpringApplication.run(Springweb01StartApplication.class, args)
        						.getBean(Springweb01StartApplication.class).execute(); */
        		
        		// ìŠ¤í”„ë§ë¶€íŠ¸ì—ì„œë„ ì¼ë°˜ ì–´í”Œë¦¬ì¼€ì´ì…˜ í™˜ê²½ì˜ ì‘ì—…ë“¤ì„ ëª¨ë‘ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.
        	}
        	
        	@Autowired
        	MyClass myClass;
        	
        	private void execute() {
        		System.out.println("ì‘ìš© í”„ë¡œê·¸ë¨ ì‹¤í–‰");
        		myClass.abc();
        	}
        }
        
        ```
        
    - View (list.jsp)
        
        ```html
        <%@ page contentType="text/html; charset=UTF-8" %>
        <!DOCTYPE html>
        <html>
        <head>
        <meta charset="UTF-8">
        <title></title>
        </head>
        <!-- TODO 1018 SpringBoot _ jsp íŒŒì¼ ì„¤ì • -->
        <body>
        	<ul>
        		<li>${ requestScope.msg }</li>
        		<li>${ msg }</li>
        	</ul>
        	<%
        		/* ModelAndViewê°€ ì‘ë‹µí•œ ë°ì´í„°ë¥¼ ë°˜í™˜í•˜ì—¬ ì¶œë ¥ */
        		String str = String.valueOf(request.getAttribute("msg"));
        		out.print(str);
        	%>
        </body>
        </html>
        ```
        
- âŒÂ ì˜¤ë¥˜ : NoResourceFoundException
: No static resource 
íŒ¨í‚¤ì§€ í™•ì¸
    
    ğŸ’¡
    
    - íŒ¨í‚¤ì§€ê°€ ë‹¬ë¼ì„œ ì‹¤í–‰ì´ ì•ˆ ë˜ëŠ” ê²½ìš°
    
    ```java
    org.springframework.web.servlet.resource.NoResourceFoundException: No static resource login.
    ```
    
    
    - @Configuration í´ë˜ìŠ¤ì—ì„œ (main() ì‹¤í–‰ í´ë˜ìŠ¤)
    @ComponentScan(basePackages={â€â€, â€œâ€})ë¥¼ 
    ì‘ì„±í•´ì£¼ë©´ ëœë‹¤.
        
        ![ ](/assets/image/2024-10-18-ComponentScan_00.png)
        
        cf) @ComponentScan ì¸í„°í˜ì´ìŠ¤ 
        
        ![ ](/assets/image/2024-10-18-ComponentScan_01.png)
        

- springweb02_jsp
Client (index.html) : login & Input
    - Login Logic
    Client (index.html) 
    â†’ Controller (LoginController) : redirect
    â†’ Client (input.html)
    â†’ Controller (LoginController) : forward
    â†’ View (result.jsp)
        - Client (index.html)
            
            ```html
            <!DOCTYPE html>
            <html>
            <head>
            <meta charset="UTF-8">
            <title>Insert title here</title>
            </head>
            <!-- TODO 1018 Spring Boot 02 _ jsp _ ìš”ì²­ ë°ì´í„°ë¥¼ ì „ë‹¬ë°›ì•„ì„œ ì²˜ë¦¬ -->
            <body>
            	<h1>ë©”ì¸</h1>
            	<a href="/login">ë¡œê·¸ì¸</a> <br>
            	<a href="/insdata">ìë£Œ ì½ê¸°</a> <br>
            </body>
            </html>
            ```
            
        - Controller
            
            ```java
            package controller;
            
            import org.slf4j.Logger;
            import org.slf4j.LoggerFactory;
            import org.springframework.stereotype.Controller;
            import org.springframework.ui.Model;
            import org.springframework.web.bind.annotation.GetMapping;
            import org.springframework.web.bind.annotation.PostMapping;
            import org.springframework.web.bind.annotation.RequestParam;
            
            import jakarta.servlet.http.HttpServletRequest;
            
            @Controller
            public class LoginController {
            	// log ì •ë³´ ì¶œë ¥ìš© : Logger - ì§„í–‰ ì¤‘ ë°œìƒí•˜ëŠ” ë¬¸ì œì  ì¶”ì , ìš´ì˜ìƒíƒœ ëª¨ë‹ˆí„°ë§
            	private final Logger logger = LoggerFactory.getLogger(this.getClass());
            
            	@GetMapping("login")
            	public String submitCall() {
            		/**
            		 * .html íŒŒì¼ì€ í´ë¼ì´ì–¸íŠ¸ ì¸¡ ì „ì†¡ ë°©ì‹ìœ¼ë¡œ redirect ë°©ì‹ìœ¼ë¡œ ì „ì†¡í•œë‹¤.
            		 * redirect ë°©ì‹ìœ¼ë¡œ ì „ì†¡í•  ê²½ìš° ë°˜ë“œì‹œ ëª…ì‹œí•´ì¤€ë‹¤. 
            		 * ê¸°ë³¸ê°’ : forward
            		 */
            		return "redirect:http://localhost/login.html";
            	}
            	
            //	@PostMapping("login")
            	public String submit(HttpServletRequest request, Model model) {
            		String id = request.getParameter("id");
            		String pwd = request.getParameter("pwd");
            		
            		// ì´ì œ ì´ë ‡ê²Œ í•˜ì§€ ì•ŠëŠ”ë‹¤.
            		System.out.println(id + " " + pwd);
            		
            		/**
            		 *  logger
            		 *  slf4jì˜ ë¡œê·¸ ë ˆë²¨ 
            		 *  trace > debug > info > warn > error  
            		 *  
            		 *  "ì•ìœ¼ë¡œëŠ” ì´ë ‡ê²Œ í•œë‹¤." 
            		 */
            		logger.info(id + " " + pwd);
            		String data = "";
            		
            		if ("aa".equals(id) && "11".equals(pwd)) {
            			data = "ë¡œê·¸ì¸ ì„±ê³µ";
            		} else {
            			data = "ë¡œê·¸ì¸ ì‹¤íŒ¨";
            		}
            		model.addAttribute("data", data);
            		
            		return "result"; // RequestDispatcher.forward (!ì¤‘ìš”) 
            	}
            	
            	/**
            	 * @RequestParam(value) ìš”ì²­_ë³€ìˆ˜ë¥¼_ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ_ì…ë ¥ë°›ì„_ìˆ˜_ìˆë‹¤.
            	 * *** ì…ë ¥ ë°ì´í„°ê°€ ë§ì€ ê²½ìš°ì—ëŠ” FormBeanì„ í™œìš©í•´ì•¼ í•œë‹¤. ***
            	 * @param id
            	 * @param pwd
            	 * @return
            	 */
            	@PostMapping("login")
            	public String submit(@RequestParam(value="id") String id, @RequestParam(value="pwd") String/* int ë¡œ ì‘ì„±í•˜ë©´ ìë™ ìºìŠ¤íŒ…ëœë‹¤. */ pwd, Model model) {
            		logger.info(id + " " + pwd);
            		String data = "";
            		
            		if ("aa".equals(id) && "11".equals(pwd)) {
            			data = "ë¡œê·¸ì¸ ì„±ê³µ";
            		} else {
            			data = "ë¡œê·¸ì¸ ì‹¤íŒ¨";
            		}
            		model.addAttribute("data", data);
            		return "result";
            	}
            }
            
            ```
            
        - Client (login.html)
            
            ```html
            <!DOCTYPE html>
            <html>
            <head>
            <meta charset="UTF-8">
            <title>Insert title here</title>
            </head>
            <body>
            **ìë£Œ ì…ë ¥**<p/>
            <form action="login" method="post">
            	i d : <input type="text" name="id"> <br>
            	pwd : <input type="text" name="pwd"> <br>
            	<input type="submit" value="ì „ì†¡">
            </form>
            </body>
            </html>
            ```
            
        - View (result.jsp)
            
            ```html
            <%@ page language="java" contentType="text/html; charset=UTF-8"
                pageEncoding="UTF-8"%>
            <!DOCTYPE html> <!-- : HTML5 (database, canvas, ...) -->
            <html>
            <head>
            <meta charset="UTF-8">
            <title>Insert title here</title>
            </head>
            <!-- TODO 1018 Spring Boot 02 _ jsp _ ìš”ì²­ ë°ì´í„°ë¥¼ ì „ë‹¬ë°›ì•„ì„œ ì²˜ë¦¬ -->
            <body>
            	ê²°ê³¼ : ${ data } <!-- EL : jspì´ê¸° ë•Œë¬¸ì— ì“´ë‹¤ -->
            </body>
            </html>
            ```
            
    - Input Logic
    Client (index.html) : Input
    â†’ Controller (InputController) : redirect
    â†’ Client (input.html)
    â†’ Controller (InputController)
    â†’ Model â‡’ â€œBusiness Logicâ€
        (SangpumBean, SangpumModel : @Service)
    â†’ Controller (InputController) : forward
    â†’ View (result.jsp)
        - Client (index.html)
        - Controller
            
            ```java
            package controller;
            
            import org.springframework.beans.factory.annotation.Autowired;
            import org.springframework.stereotype.Controller;
            import org.springframework.ui.Model;
            import org.springframework.web.bind.annotation.GetMapping;
            import org.springframework.web.bind.annotation.PostMapping;
            
            import business.SangpumBean;
            import model.SangpumModel;
            
            @Controller
            public class InputController {
            	
            	@Autowired
            	private SangpumModel sangpumModel;
            	
                @GetMapping("insdata")
                public String submitCall() {
                    return "redirect:http://localhost/input.html";
                }
                
                /**
                 * @param model : ì‘ë‹µ ë°ì´í„°ì˜ Key, Valueë¥¼ Attributeì— ì¶”ê°€
                 * @param bean : ë§ì€ ì–‘ì˜ ë°ì´í„°ë¥¼ ì „ì†¡í•˜ê¸° ìœ„í•´ FormBeanì„ í™œìš©
                 * @return : ViewName
                 * @See org.springframework.ui.Model
                 */
                @PostMapping("insdata")
                public String submit(Model model, SangpumBean bean) {
                	model.addAttribute("data", sangpumModel.compute(bean));
                	return "result";
                }
            }
            
            ```
            
            ```
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Document</title>
            </head>
            <!-- TODO 1018 Spring Boot _ jsp 03 _ FormBean ì´ìš© -->
            <body>
            <p>** ìë£Œ ì…ë ¥ ** </p>
            <form action="insdata" method="POST">
            í’ˆëª… : <input type="text" name="sang"> <br>
            ìˆ˜ëŸ‰ : <input type="text" name="su"> <br>
            ë‹¨ê°€ : <input type="text" name="dan"> <br>
            <input type="submit" name="ì „ì†¡">
            </form>
            </body>
            </html>
            ```
            
        - Client (input.html)
            
            ```html
            <!DOCTYPE html>
            <html lang="en">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>Document</title>
            </head>
            <!-- TODO 1018 Spring Boot _ jsp 03 _ FormBean ì´ìš© -->
            <body>
            <p>** ìë£Œ ì…ë ¥ ** </p>
            <form action="insdata" method="POST">
            í’ˆëª… : <input type="text" name="sang"> <br>
            ìˆ˜ëŸ‰ : <input type="text" name="su"> <br>
            ë‹¨ê°€ : <input type="text" name="dan"> <br>
            <input type="submit" name="ì „ì†¡">
            </form>
            </body>
            </html>
            ```
            
        - Model (Bean, Service)
            
            ```java
            package business;
            
            import lombok.Getter;
            import lombok.Setter;
            
            @Getter
            @Setter
            public class SangpumBean {
            	private String sang;
            	private int su, dan;
            }
            
            ```
            
            ```java
            package model;
            
            import org.springframework.stereotype.Service;
            
            import business.SangpumBean;
            
            /**
             * DB ì—°ê²°ì€ ì•„ë‹ˆê¸° ë•Œë¬¸ì— @Repository ìŠ¤í…Œë ˆì˜¤ íƒ€ì…ì´ ì•„ë‹ˆë‹¤.
             */
            @Service 
            public class SangpumModel {
            	public String compute(SangpumBean bean) {
            		String data = "";
            		data = data.concat("í’ˆëª… : " + bean.getSang());
            		data = data.concat("\n");
            		data = data.concat("ê¸ˆì•¡ : " + (bean.getSu() * bean.getDan())); 
            		return data;
            	}
            }
            
            ```
            
        - View (result.jsp)
- springweb_03_jsp
    
    
- âŒÂ ì˜¤ë¥˜ : ClassNotFoundException
: javax.servlet.jsp.tagext.TagLibraryValidator
    - ì˜¤ë¥˜ ì›ì¸
    javax.servlet.jstl
        
        <aside>
        ğŸ’¡
        
        ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0 ë²„ì „ ì´ìƒë¶€í„°ëŠ” JSTL 1.2ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ë‹¤ê³  í•œë‹¤.
        pom.xmlì— dependency ì¶”ê°€  
        javax â†’ jakarta
        
        </aside>
        
        ![ ](/assets/image/2024-10-18-JSTL_ERROR_01.png)
        
        ![ ](/assets/image/2024-10-18-JSTL_ERROR_02_javax.png)
        
    - í•´ê²° ë°©ë²•
    javax.servletì„ jakarta.servletìœ¼ë¡œ ë³€ê²½í•´ì¤€ë‹¤.
        
        ğŸ’¡
        
        ![ ](/assets/image/2024-10-18-JSTL_Jakarta_Dependency.png)
        
        íƒœê·¸ë„
        
        ```java
        <%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
        ```
        
        ëŒ€ì‹ 
        
        ```java
        <%@ taglib prefix="c" uri="jakarta.tags.core"%>
        ```
        
        ì´ë ‡ê²Œ ì‚¬ìš©í•œë‹¤.
        


--- 

ì°¸ê³  ì‚¬ì´íŠ¸ 
